<properties
   pageTitle="Elenco di controllo scalabilità | Microsoft Azure"
   description="Guida di elenco di controllo scalabilità per problemi di progettazione per il ridimensionamento automatico Azure."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="scalability-checklist"></a>Elenco di controllo scalabilità

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="service-design"></a>Struttura del servizio
- **Partizione il carico di lavoro**. Progettare parti del processo di essere distinti e decomposable. Ridurre le dimensioni di ogni parte, mentre si seguendo le regole per la separazione dei problemi relativi alla e seguire il principio responsabilità singola. In questo modo componenti essere distribuito in modo da ottimizzare l'utilizzo di ogni unità di calcolo (ad esempio un server di database o ruolo). Inoltre rende più facile ridimensionare l'applicazione aggiungendo istanze di risorse specifiche. Per ulteriori informazioni, vedere [Indicazioni per partizioni calcolare](https://msdn.microsoft.com/library/dn589773.aspx).
- **Progettazione per il ridimensionamento**. Ridimensionamento consente alle applicazioni rispondere a carico variabile aumentando e ridurre il numero di istanze di ruoli, code e altri servizi utilizzano. Tuttavia, l'applicazione deve essere progettato con questo valore in considerazione. Ad esempio, dell'applicazione e i servizi che utilizza devono essere senza informazioni sullo stato, per consentire le richieste di essere distribuiti a qualsiasi istanza. Questo impedisce l'aggiunta o rimozione di istanze specifiche influire negativamente impatto attuali utenti. È necessario anche implementare configurazione o il rilevamento automatico delle istanze come che vengono aggiunti o rimossi, in modo che il codice nell'applicazione può svolgere il routing necessarie. Ad esempio, un'applicazione web può utilizzare un insieme di code in un approccio circolari per indirizzare le richieste di servizi in background in esecuzione in ruoli di lavoro. L'applicazione web deve essere in grado di rilevare le modifiche del numero di code, per indirizzare le richieste e distribuire il carico sulla barra dell'applicazione.
- **Scala come unità**. Pianificare le risorse aggiuntive per la crescita. Per ogni risorsa fonti superiore scala limiti e utilizzare sharding o scomposizione per andare oltre questi limiti. Determinare le unità di scala per il sistema in termini di ben insiemi di risorse. In questo modo applicazione scalabilità operazioni più facile e meno soggetta a influire negativamente sulla barra dell'applicazione tramite le limitazioni imposte da mancanza di risorse in alcune parti del sistema. Ad esempio aggiungendo x numero dei ruoli web e di lavoro potrebbe richiedere numero code aggiuntive y e z degli account di archiviazione per gestire il carico di lavoro aggiuntiva generato dai ruoli. In modo che un'unità in scala potrebbe consistere x ruoli web e di lavoro, code _y_ e _z_ gli account di archiviazione. Progettazione dell'applicazione in modo che viene ridimensionato facilmente mediante l'aggiunta di una o più unità di scala.
- **Affinità client evitare**. Se possibile, assicurarsi che l'applicazione non richiede affinità. Le richieste possono pertanto indirizzate a qualsiasi istanza e il numero di istanze è irrilevante. Si evita il sovraccarico di archiviazione, recupero e gestire le informazioni sullo stato per ogni utente.
- **Sfruttare le funzionalità di piattaforma il ridimensionamento automatico**. Nel punto in cui la piattaforma hosting supporta una funzionalità di adattamento automatico, ad esempio Autoscale Azure, si preferisce eseguire meccanismi personalizzati o di terze parti a meno che non meccanismo incorporato non può soddisfare i requisiti. Usare le regole di ridimensionamento pianificate in cui sono disponibili senza un ritardo di avvio possibili per assicurarsi che le risorse, ma aggiungere il ridimensionamento automatico riattivare le regole eventualmente a modifiche impreviste della domanda. È possibile utilizzare le operazioni di adattamento automatico in API del servizio di gestione per regolare il ridimensionamento automatico e aggiungere contatori personalizzati alle regole. Per ulteriori informazioni, vedere [indicazioni per il ridimensionamento automatico](best-practices-auto-scaling.md).
- **Trasferire il carico CPU/IO attività come attività in background**. Se si prevede una richiesta di un servizio che richiederà molto tempo per eseguire o assorbire risorse notevole, trasferire l'elaborazione per la richiesta per un'attività separata. Utilizzare i ruoli di lavoro o processi in background (a seconda della piattaforma hosting) per eseguire queste attività. Questa strategia consente al servizio di continuare a ricevere ulteriormente le richieste e l'efficienza.  Per ulteriori informazioni, vedere [indicazioni per processi in Background](best-practices-background-jobs.md).
- **Distribuisci il carico di lavoro per le attività in background**. Nel punto in cui sono presenti molte attività in background o le attività richiederanno molto tempo o risorse, distribuire il lavoro tra più unità di calcolo (ad esempio i ruoli di lavoro o processi in background). Per una possibile soluzione, vedere [Concorrenti consumatori motivo](https://msdn.microsoft.com/library/dn568101.aspx).
- **Si consiglia di spostamento verso una _condivisione_ architettura**. Un'architettura di condivisione utilizza indipendenti, autosufficiente nodi in non cui nessun singolo punto di conflitto (ad esempio servizi condivisi o lo spazio di archiviazione). In teoria, ad esempio un sistema di scalabilità quasi tempo indefinito. Mentre un approccio completamente condivisione non è in genere pratico per la maggior parte delle applicazioni, può fornire le opportunità per progettare per una migliore scalabilità. Ad esempio, evitare l'utilizzo della sessione sul lato server, affinità client e dati partizione sono buoni esempi di spostamento verso un'architettura di condivisione.

## <a name="data-management"></a>Gestione dei dati

- **Utilizzare dati partizioni**. Dividere i dati in più database e server di database o progettazione dell'applicazione di utilizzare l'archiviazione di dati dei servizi che può fornire questo partizione trasparente (Database flessibile Database SQL Azure ed esempi archivio tabelle Azure). Questo approccio può aiutare a ottimizzare le prestazioni e consentire il ridimensionamento più semplice. Esistono diverse tecniche, ad esempio orizzontali, verticali, partizione e funzionale. È possibile utilizzare una combinazione di questi elementi per ottenere il massimo vantaggio da query aumento delle prestazioni, scalabilità più semplice, gestione più flessibile, migliore disponibilità e per garantire corrispondenza tra il tipo di archivio di dati che conterrà. Inoltre, è preferibile diversi tipi di archivio dati per diversi tipi di dati, scegliere i tipi in base a come sono ottimizzati per il tipo di dati specifico. Può trattarsi di uso archiviazione tabella, un database di documento o un archivio di dati di famiglia di colonna, invece di o nonché come un database relazionale. Per ulteriori informazioni, vedere [indicazioni partizione di dati](best-practices-data-partitioning.md).
- **Progettazione per la coerenza finale**. La coerenza eventuale migliora la scalabilità riduzione o rimuovendo il tempo necessario per sincronizzare i dati correlati suddivisi su più archivi. Il costo è che dati non sono sempre coerenti quando viene letto e alcune scrivere operazioni potrebbero causare conflitti. La coerenza eventuale è ideale per le situazioni in cui gli stessi dati letti con frequenza è scritti raramente. Per ulteriori informazioni, vedere [Introduzione alla coerenza dei dati](https://msdn.microsoft.com/library/dn589800.aspx).
- **Ridurre semplici interazioni tra componenti e servizi**. Evitare di progettare interazioni in cui è necessario effettuare più chiamate a un servizio di un'applicazione (ognuno dei quali restituisce una piccola quantità di dati), invece di una singola chiamata in grado di restituire tutti i dati. Se possibile, combinare diverse operazioni correlate in una singola richiesta quando la chiamata a un servizio o componente che dispone di più evidente latenza. In questo modo più semplice eseguire il monitoraggio delle prestazioni e ottimizzare operazioni complesse. Ad esempio, in stored procedure database consente di racchiudere logica complessa e ridurre il numero di round trip e il blocco delle risorse.
- **Utilizzare code per livellare il carico di scrittura dati ad alta velocità**. Situazioni in cui la domanda per un servizio possono sovraccaricare tale servizio e provocare errori crescenti. Per evitare questo problema, è possibile implementare il [modello di livellamento carico basato su coda](https://msdn.microsoft.com/library/dn589783.aspx). Utilizzare una coda che funge da buffer tra un'attività e un servizio che richiama. Questo arrotondare intermittente sovraccarico che in caso contrario potrebbe causare il servizio o l'attività non scada.
- **Riduci a icona il carico l'archivio di dati**. Archivio dati è in genere una bottiglia di elaborazione, una risorsa costosa e spesso non facile da scalare. Se possibile, rimuovere logica (ad esempio l'elaborazione di documenti XML o oggetti JSON) dall'archivio dati ed elaborazione all'interno dell'applicazione. Ad esempio, anziché il passaggio XML al database (diversa da come una stringa opaca per lo spazio di archiviazione), serializzare o deserializzare il file XML all'interno del livello di applicazione e passare in un modulo nativo all'archivio dati. È in genere molto più facile scalabilità l'applicazione rispetto all'archivio dati in modo che è necessario eseguire la maggior parte dell'elaborazione complesse possibili all'interno dell'applicazione.
- **Riduci a icona il volume dei dati recuperati**. Recuperare solo i dati desiderati specificando le colonne e l'uso dei criteri per selezionare le righe. Verificare l'utilizzo di parametri dei valori di tabella e il livello di isolamento appropriato. Meccanismi di utilizzo, ad esempio tag entità per evitare di recuperare dati inutili.
- **Utilizzare imporre la memorizzazione nella cache**. Utilizzare la cache laddove possibile per ridurre il carico sulle risorse e servizi che generano o fornire i dati. La memorizzazione nella cache in genere è adatto ai dati che sono relativamente statici o che richiedono un notevole elaborazione per ottenere. La memorizzazione nella cache dovrebbe essere eseguita tutti i livelli eventualmente in ogni livello di applicazione, incluse la generazione di interfaccia utente e accesso dei dati. Per ulteriori informazioni, vedere le [Indicazioni per la memorizzazione nella cache](best-practices-caching.md).
- **Gestire i criteri di conservazione e l'aumento dei dati**. La quantità di dati archiviati da un'applicazione aumenta nel tempo. Questa crescita aumento dei costi di spazio di archiviazione e aumentare latenza quando si accede ai dati, ovvero che influisce sulle prestazioni ed efficienza delle applicazioni. Potrebbe essere possibile periodicamente alcuni dati precedente non è più accessibile archiviare o spostare i dati che si accede raramente a lungo termine dello spazio di archiviazione è costo più efficiente, anche se la latenza di accesso è superiore.
- **Ottimizzare dati trasferire gli oggetti (DTOs) con un utilizzo efficiente formato binario**. DTOs vengono passati tra i livelli di un'applicazione più volte. La riduzione delle dimensioni consente di ridurre il carico di risorse e la rete. Tuttavia, saldo risparmi con il sovraccarico di conversione dei dati nel formato richiesto in ogni posizione in cui viene utilizzato. Adottare un formato che contiene la massima interoperabilità per consentire di riutilizzare facilmente di un componente.
- **Configurare il controllo della cache**. Progettare e configurare un'applicazione di utilizzare la cache di output o frammento memorizzazione nella cache laddove possibile, per ridurre al minimo carico di lavoro.
- **Abilitare la cache sul lato client**. Le applicazioni Web è necessario abilitare le impostazioni della cache sul contenuto che possono essere memorizzati nella cache. Questo in genere è disattivato per impostazione predefinita. Configurare il server per eseguire la cache appropriata intestazioni di controllo per attivare la memorizzazione di contenuto sul client e server proxy.
- **Archiviazione blob Azure utilizzo e Azure rete CDN per ridurre il carico sulla barra dell'applicazione**. È possibile archiviare statico o relativamente statico contenuto pubblico, ad esempio immagini, le risorse, script e fogli di stile, nell'archiviazione blob. Questo approccio evita l'applicazione del carico causato generando dinamicamente il contenuto per ogni richiesta. Inoltre, è preferibile Content Delivery Network per memorizzare nella cache il contenuto e offrire ai client. Tramite la rete di recapito contenuto, è possibile migliorare le prestazioni nel client perché il contenuto viene recapitato da Data Center del limitazioni geografiche più vicina che contiene una cache di rete per il contenuto. Per ulteriori informazioni, vedere le [Indicazioni di rete di recapito del contenuto](best-practices-cdn.md).
- **Ottimizzazione e query SQL di ottimizzazione e indici**. Alcune istruzioni T-SQL o costrutti possono avere un impatto sulle prestazioni che è possibile ridurre ottimizzazione del codice in una stored procedure. Ad esempio, evitare la conversione di tipi **datetime** in un **varchar** prima di confrontare con un valore letterale **Data/ora** . Utilizzare le funzioni di confronto di data/ora. Mancanza di indici appropriati può inoltre rallentare esecuzione della query. Se si utilizza un framework mapping/relazionale, informazioni su come funziona e come può influire sulle prestazioni del livello di accesso ai dati. Per ulteriori informazioni, vedere [Ottimizzazione delle Query](https://technet.microsoft.com/library/ms176005.aspx).
- **Si consiglia di deselezionare normalizzare i dati**. Normalizzazione dei dati consente di evitare la duplicazione e incoerenze. Tuttavia, la gestione degli indici più, la verifica dell'integrità referenziale, eseguire accessi multipli per piccole quantità di dati e unire le tabelle per riunire i dati comporta un sovraccarico che può influire sulle prestazioni. È consigliabile se alcuni volume ulteriore spazio di archiviazione e la duplicazione è accettabile per ridurre il carico l'archivio di dati. Inoltre, è consigliabile se l'applicazione, ovvero in genere più facilmente le dimensioni, può basarsi per subentrare attività come gestire l'integrità referenziale per ridurre il carico l'archivio di dati. Per ulteriori informazioni, vedere [indicazioni partizione di dati](https://github.com/mspnp/azure-guidance/blob/master/Data%20partitioning.md).

## <a name="service-implementation"></a>Implementazione del servizio
- **Utilizzo di chiamate asincrono**. Se possibile utilizzare codice asincrono quando accesso alle risorse o servizi che possono essere limitati dai / o o la larghezza di banda di rete o che dispone di una latenza più evidente, per evitare di bloccare il thread chiamante. Per implementare operazioni asincrone, utilizzare [Basate sulle attività asincrono motivo toccare](https://msdn.microsoft.com/library/hh873175.aspx).
- **Evitare il blocco di risorse e utilizzare invece un approccio ottimistico**. Non è mai blocca l'accesso alle risorse, ad esempio lo spazio di archiviazione o altri servizi che hanno latenza più evidente, perché si tratta di una causa principale della riduzione delle prestazioni. Usa sempre ottimistico approcci per la gestione delle operazioni simultanee, ad esempio la scrittura allo spazio di archiviazione. Utilizzare le funzionalità del livello di spazio di archiviazione per gestire i conflitti. Nelle applicazioni distribuite, dati potrebbero essere solo alla fine coerenti.
- **Comprimere i dati altamente comprimibili sulla latenza elevata, reti di larghezza di banda ridotta**. Nella maggior parte dei casi in un'applicazione web, il volume più grande di dati generati dall'applicazione e trasmesse in rete è risposte HTTP alle richieste dei client. La compressione HTTP è possibile ridurre questo notevolmente, in particolare di contenuto statico. Questo può ridurre costi, nonché a ridurre il carico di rete, anche se la compressione contenuto dinamico applicare un carico frazionato superiore nel server. Negli ambienti GRG più, la compressione dei dati è possibile ridurre il volume dei dati trasmessi e ridurre al minimo il tempo di trasferimento e i costi, ma i processi di compressione e decompressione sovraccarico. Compressione di conseguenza, deve essere utilizzata solo quando è presente un dimostrabile miglioramento delle prestazioni. Altri metodi di serializzazione, ad esempio JSON o codice binario, possono ridurre le dimensioni di payload mentre si hanno meno impatto sulle prestazioni, mentre XML è soggetto a portarla.
- **Riduci a icona il periodo di tempo connessioni e le risorse sono in uso**. Mantenere le connessioni e le risorse solo per purché è necessario usare quel gruppo. Ad esempio, aprire il più tardi possibile connessioni e consentono loro di essere restituito al pool di connessioni più presto possibile. Acquisire risorse più tardi possibile ed eliminarli in più presto possibile.
- **Ridurre al minimo il numero di connessioni richieste**. Connessioni Service assorbono risorse. Limitare il numero che sono necessari e assicurarsi che le connessioni esistenti vengono riutilizzate laddove possibile. Ad esempio, dopo aver completato l'autenticazione, utilizzare la rappresentazione quando opportuno per l'esecuzione di codice come un'identità specifica. Questo può aiutare a utilizzare meglio del pool di connessioni da riutilizzare le connessioni.

    > [AZURE.NOTE]: APIs for some services automatically reuse connections, provided service-specific guidelines are followed. It's important that you understand the conditions that enable connection reuse for each service that your application uses.

- **Inviare le richieste in batch per ottimizzare l'utilizzo di rete**. Ad esempio, inviare e leggere i messaggi in batch quando si accede a una coda ed eseguire più operazioni di lettura o scrittura in batch quando si accede a una cache o lo spazio di archiviazione. Questo può aiutare a migliorare l'efficienza degli archivi di servizi e i dati, riducendo il numero di chiamate in rete.
- **Evitare la necessità di archiviare lo stato della sessione sul lato server** laddove possibile. Gestione dello stato sessione sul lato server richiede in genere affinità client (al, routing ogni richiesta alla stessa istanza di server), che determina la capacità del sistema di scalare. Se possibile, è necessario progettare senza informazioni sullo stato per quanto riguarda i server che utilizzano ai client. Tuttavia, se l'applicazione è necessario mantenere lo stato della sessione, archiviare dati sensibili o volumi elevati di dati al client in una cache sul lato server distribuita che possono accedere a tutte le istanze dell'applicazione.
- **Schemi di archiviazione tabella Ottimizza**. Quando si utilizza archivi di tabella che richiedono i nomi di tabelle e colonne da passare ed elaborare con tutte le query, ad esempio archivio tabelle Azure, è consigliabile utilizzare nomi più brevi per ridurre il sovraccarico di questa. Tuttavia, non rallentano la leggibilità o gestibilità usando nomi eccessivamente compatto.
- **Usare l'attività Parallel Library (TPL) per eseguire operazioni asincrone**. TPL rende più facile scrivere codice asincrono che esegue operazioni I/O-associate. Se possibile per eliminare la relazione di continuazione in un contesto di sincronizzazione specifico, utilizzare _ConfigureAwait(false)_ . Consente di ridurre le possibilità di blocco critico thread si verifichi.
- **Creare dipendenze delle risorse durante la distribuzione o all'avvio dell'applicazione**. Evitare chiamate ripetute a metodi che verifica l'esistenza di una risorsa e quindi creare la risorsa se non esiste. (Metodi, ad esempio _CloudTable.CreateIfNotExists_ e _CloudQueue.CreateIfNotExists_ nella libreria Client di spazio di archiviazione Azure seguono questo modello). Questi metodi possono imporre un notevole sovraccarico se richiamati prima di ogni accesso a una tabella di archiviazione o coda di spazio di archiviazione. Se, tuttavia:
 - Creare le risorse necessarie quando l'applicazione viene distribuito o il primo avvio (una singola chiamata a _CreateIfNotExists_ per ogni risorsa nel codice di avvio per un ruolo web o lavoro è accettabile). Tuttavia, assicurarsi di gestire le eccezioni che possono verificarsi se il codice tenta di accedere a una risorsa che non esiste. In questi casi, si deve registrare l'eccezione e il rischio di informare un operatore che una risorsa è manca.
 - In alcuni casi può essere opportuno creare la risorsa mancante durante la gestione delle eccezioni. Ma si deve adottano questo approccio con cautela come non esistenza della risorsa potrebbe essere indicativo di un errore di programmazione (un nome di risorsa errata, ad esempio) o altri problemi di livello di infrastruttura.
- **Framework di semplice utilizzo**. Scegliere con attenzione le API e Framework che consente di ridurre al minimo l'uso delle risorse, il tempo di esecuzione e carico complessivo sulla barra dell'applicazione. Ad esempio, le API Web per gestire le richieste di assistenza consentono di ridurre il volume dell'applicazione e aumentare la velocità di esecuzione, ma potrebbe non essere adatta per scenari avanzati in cui le altre funzionalità di Windows Communication Foundation sono necessari.
- **Si consiglia di ridurre al minimo il numero di account di servizio**. Ad esempio, utilizzare un account specifico per accedere alle risorse o servizi che impongono un limite per le connessioni oppure eseguono meglio in cui vengono gestite meno connessioni. Questo approccio è comune per i servizi, ad esempio database, ma può influire la possibilità di precisione controllare le operazioni a causa di rappresentazione dell'utente originale.
- **Eseguire test di carico e analisi delle prestazioni** in fase di sviluppo, come parte di test routine e prima di quella finale per assicurarsi che l'applicazione esegue e scale in base alle esigenze. Questo test devono essere eseguiti sullo stesso tipo dell'hardware come la piattaforma di produzione e con gli stessi tipi e quantità di dati e utente caricare come che si verificherà nell'ambiente di produzione. Per ulteriori informazioni, vedere [test le prestazioni di un servizio cloud](vs-azure-tools-performance-profiling-cloud-services.md).
