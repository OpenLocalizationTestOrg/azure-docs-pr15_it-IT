<properties
   pageTitle="Elenco di controllo disponibilità | Microsoft Azure"
   description="Elenco di controllo che fornisce indicazioni per problemi di disponibilità in fase di progettazione."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Elenco di controllo di disponibilità

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Progettazione di applicazioni

- **Evitare qualsiasi singolo punto di errore.** Tutti i componenti, servizi, risorse e le istanze di calcolo devono essere distribuite come più istanze per impedire l'influisce negativamente sulla disponibilità di un singolo punto di errore. Sono inclusi i meccanismi di autenticazione. Progettare un'applicazione di essere configurato per utilizzare più istanze e per automaticamente rileva errori e il reindirizzamento richieste senza errori le istanze in cui la piattaforma non eseguire questa operazione automaticamente.
- **Scomporre carico di lavoro per diverso contratto di servizio.** Se è costituito da un servizio critiche e meno critiche carichi di lavoro, gestirle in modo diverso e specificare le caratteristiche di servizio e il numero di istanze di soddisfare i requisiti di disponibilità.
- **Ridurre a icona e si conoscono le dipendenze del servizio.** Ridurre il numero di diversi servizi utilizzati laddove possibile e assicurarsi che si conoscono tutte le dipendenze funzionalità e il servizio che esistono nel sistema. Questo include la natura di queste dipendenze e l'impatto di errore o ridotte prestazioni ottimali in ciascuno di essi nella globale della richiesta. Microsoft garantisce almeno 99,9 disponibilità per la maggior parte dei servizi, ma ciò significa che ogni servizio aggiuntivo un'applicazione si basa su potenzialmente riduce la disponibilità complessiva contratto di servizio del sistema 0,1%.
- **Progettare attività e messaggi da idempotente (in modo sicuro ripetibili) laddove possibile**, in modo che duplicato richieste non causa problemi. Ad esempio, un servizio può fungere da consumer che gestisce i messaggi inviati come richieste da altre parti del sistema che fungono produttori. Se l'utente non riesce dopo l'elaborazione del messaggio, ma prima del riconoscimento che è stata elaborata, il produttore può inviare una richiesta di ripetizione che può essere gestita da un'altra istanza del consumatore. Per questo motivo, consumatori e le operazioni che relative ai controlli devono essere idempotenti in modo da ripetere un'operazione eseguita in precedenza non visualizzare i risultati non validi. Ciò significa rilevare duplicati messaggi e garantire la coerenza con un approccio ottimistico alla gestione dei conflitti.
- **Utilizzare un gestore di messaggio che implementa disponibilità per le transazioni critiche.** Molti scenari per l'avvio di attività o accedere a servizi remoto utilizzano la messaggistica passare istruzioni tra l'applicazione e il servizio di destinazione. Per ottenere prestazioni ottimali, l'applicazione dovrebbe essere possibile inviare il messaggio e quindi tornare per elaborare le richieste di più, senza dover attendere una risposta. Per garantire il recapito dei messaggi, il sistema di messaggistica dovrebbe fornire disponibilità. Azure code di messaggi Service Bus implementano _almeno una volta_ semantica. Ciò significa che ogni messaggio inviato a una coda non andranno persa, anche se in alcuni casi possono essere installati senza duplicati. Se l'elaborazione dei messaggi è idempotente (vedere l'elemento precedente), verranno ripetuti recapito non deve essere un problema.
- **Applicazioni di progettazione a normalmente diminuire** quando viene raggiunta limiti delle risorse e agire appropriata per ridurre al minimo l'impatto per l'utente. In alcuni casi, il carico sull'applicazione può superare la capacità di uno o più parti, causando ridotte disponibilità e connessioni non riuscite. Ridimensionamento può aiutare a evitare questo problema, ma può raggiungere un limite imposto da altri fattori, ad esempio la disponibilità delle risorse o costo. Progettazione dell'applicazione in modo che, in questo caso, è possibile automaticamente adattarsi. Ad esempio, in un sistema di e-commerce, se il sottosistema di elaborazione degli ordini in affaticamento visivo (o sono previsti anche ha avuto esito negativo), può essere temporaneamente disattivato consentendo altre funzionalità (ad esempio, esplorare il catalogo di prodotti) per continuare. Può essere opportuno posticipare le richieste di un sottosistema esito negativo, ad esempio comunque consentire ai clienti di inviare ordini ma salvandoli per l'elaborazione successiva, quando il sottosistema ordini è nuovamente disponibile.
- **Gestire gli eventi burst rapida.** È necessario gestire diversi carichi di lavoro nel tempo, ad esempio picchi prima cosa mattina in un'applicazione aziendale o quando viene rilasciato un nuovo prodotto in un sito di e-commerce maggior parte delle applicazioni. Scala automatica può aiutare a gestire il carico, ma potrebbe richiedere del tempo istanze aggiuntive per connettere e gestire le richieste. Impedire burst inaspettata e imprevisto di attività di confondere l'applicazione: progettare alle richieste di coda ai servizi utilizza ed evitare quando le code sono per tutta la capacità. Assicurarsi che le prestazioni e capacità sufficienti disponibile sia in condizioni non burst Svuota code e gestire le richieste in attesa. Per ulteriori informazioni, vedere il [modello di livellamento carico basato su coda](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Distribuzione e la manutenzione

- **Distribuzione di più istanze di ruoli per ogni servizio.** Microsoft garantisce disponibilità per i servizi che creare e distribuire, ma queste garanzie sono valide solo se si distribuiscono almeno due istanze di ogni ruolo nel servizio. In questo modo un ruolo da non essere disponibile mentre gli altri rimane attivo. Questo è particolarmente importante se è necessario distribuire gli aggiornamenti a un sistema live senza interrompere le attività dei client; le istanze possono essere create verso il basso e aggiornate singolarmente mentre gli altri continua in linea.
- **Applicazioni host in più Data Center.** Sebbene estremamente poco probabile, è possibile che un intero Data Center non in linea tramite un evento, ad esempio un errore di Internet o di emergenza naturale. Applicazioni aziendali importanti devono essere ospitate in più Data Center, per garantire la massima disponibilità. Questo può ridurre la latenza per gli utenti locali e fornire ulteriori opportunità per flessibilità durante l'aggiornamento delle applicazioni.
- **Automatizzare e attività di distribuzione e la manutenzione di prova.** Applicazioni distribuite sono costituiti da più parti che devono collaborare. Distribuzione deve essere pertanto automatizzata, tramite meccanismi testati e affidabile, ad esempio script e applicazioni di distribuzione. Questi aggiornare e convalidare la configurazione e automatizzare il processo di distribuzione. Tecniche automatiche anche devono essere utilizzate per eseguire aggiornamenti di tutto o parte delle applicazioni. È importante verificare tutti questi processi completamente per garantire che gli errori non i tempi di inattività aggiuntive. Tutti gli strumenti di distribuzione devono avere restrizioni di sicurezza appropriata per la protezione dell'applicazione distribuita; definire e applicare criteri di distribuzione con attenzione e ridurre la necessità di interventi.
- **Valutare la possibilità di utilizzo delle funzionalità di gestione temporanea e produzione della piattaforma** in cui sono disponibili. Ad esempio utilizzando ambienti di produzione e gestione temporanea servizi Cloud Windows Azure consente alle applicazioni per il cambio da uno a altro istantaneamente attraverso scambio indirizzo IP virtuale (VIP scambio). Tuttavia, se si preferisce in locale, sul passaggio o distribuire contemporaneamente diverse versioni dell'applicazione e gradualmente la migrazione degli utenti, non è possibile utilizzare un'operazione di scambio di VIP.
- **Applica modifiche alla configurazione senza riciclaggio** istanza laddove possibile. In molti casi, le impostazioni di configurazione per un'applicazione Azure o servizi possono essere modificate senza il ruolo di essere riavviato. Ruolo espongono eventi che possono essere gestiti per rilevare le modifiche alla configurazione e applicarle ai componenti all'interno dell'applicazione. Tuttavia, alcune modifiche alle impostazioni di piattaforma core richiedono un ruolo di essere riavviato. Quando si creano componenti e servizi, ottimizzare la disponibilità e ridurre i tempi di inattività progettando per accettare le modifiche alle impostazioni di configurazione senza richiedere l'applicazione nel suo insieme essere riavviato.
- **Usare domini aggiornamento zero tempi di inattività durante l'aggiornamento.** Azure calcolare unità, ad esempio web e ruoli di lavoro vengono assegnati per aggiornare i domini. Aggiornare le istanze del ruolo gruppo di domini in modo che, quando un aggiornamento in sequenza entrerà in vigore, ogni ruolo nel dominio di aggiornamento è interrotto, aggiornato e si riavvia, a sua volta. Consente di ridurre l'impatto sulla disponibilità delle applicazioni. È possibile specificare il numero di domini aggiornamento per un servizio deve essere creato quando viene distribuito il servizio.

    > [AZURE.NOTE] Ruoli vengono inoltre distribuiti domini guasto, ognuno dei quali è adeguatamente indipendente da altri domini guasto in termini di server rack, alimentazione e raffreddamento disposizione, per ridurre il rischio di un errore che interessano tutte le istanze di ruolo. La distribuzione viene generato automaticamente e non è possibile controllare.

- **Configurare i set di disponibilità per macchine virtuali di Azure.** Immissione di due o più macchine virtuali nello stesso set di disponibilità garantisce che queste macchine virtuali non verrà distribuite allo stesso dominio guasto. Per ottimizzare la disponibilità, è necessario creare più istanze di ogni macchina virtuale critico del sistema e posizionare le istanze nello stesso set di disponibilità. Se si esegue più macchine virtuali che per scopi diversi, creare una disponibilità impostare per ogni macchina virtuale. Aggiungere le istanze di ogni macchina virtuale per ogni set di disponibilità. Ad esempio, se è stato creato macchine virtuali distinte funga da un server web e un server di report, creare una disponibilità impostare per il server web e la disponibilità di un altro impostare per il server di report. Aggiungere le istanze della macchina web server virtuale per la disponibilità di server web impostare e aggiungere le istanze della macchina virtuale server report al set di disponibilità dei report di server.

## <a name="data-management"></a>Gestione dei dati

- **Sfruttare i vantaggi della replica dei dati** tramite la ridondanza locale e geografica. Dati di archiviazione Azure viene automaticamente replicati per evitare perdite in caso di errore infrastruttura e alcuni aspetti di questa replica possono essere configurate. Copia di sola lettura dei dati, ad esempio, può essere replicato in più blocchi area geografica di appartenenza (definito come spazio di archiviazione globale ridondante di accesso in lettura o RA GRS). Si noti che utilizzando RA GRS comporta costi aggiuntivi. Per informazioni dettagliate, vedere [Lo spazio di archiviazione di Azure prezzi](https://azure.microsoft.com/pricing/details/storage/).
- **Usa concorrenza ottimistica e la coerenza eventuale** laddove possibile. Transazioni che bloccare l'accesso alle risorse il blocco (concorrenza pessimistica) possa influire negativamente sulle prestazioni e ridurre sensibilmente la disponibilità. Questi problemi possono diventare particolarmente elevati di sistemi distribuiti. In molti casi attenzione progettazione e tecniche, ad esempio partizioni ridurre al minimo le possibilità di aggiornamenti in conflitto si verifichi. Qualora dati replicati o leggere da un archivio separatamente aggiornato, i dati saranno solo alla fine coerenti. Ma i vantaggi in genere di gran lunga del relativo impatto sulla disponibilità dell'utilizzo delle transazioni per garantire la coerenza immediata.
- **Utilizzare periodico eseguire il backup e ripristino in un momento**e verificare soddisfi ripristino scegliere obiettivo (rilasciato). Periodicamente e automaticamente il backup dei dati che non vengono mantenuti ad altri aeroporti e verificare in modo affidabile ripristinare i dati e l'applicazione verifichi un errore. La replica dei dati non è una caratteristica di backup perché errori e incoerenze introdotte tramite errore, errore o operazioni dannose da replicare in tutti i negozi. Il processo di backup deve essere sicuro per proteggere i dati in transito e lo spazio di archiviazione. Database o parti di un archivio dati consente in genere di ripristinare un punto precedente nel tempo utilizzando i registri delle transazioni. Microsoft Azure fornisce una funzionalità di backup per i dati archiviati nel Database di SQL Azure. I dati esportati in un pacchetto di backup in archiviazione blob Azure e possono essere scaricati in un percorso sicuro locale per lo spazio di archiviazione.
- **Abilitare l'opzione disponibilità mantenere una copia secondaria di una cache Azure Redis.** Quando si usa Azure Redis Cache, scegliere l'opzione standard per mantenere una copia secondaria del contenuto. Per ulteriori informazioni, vedere [creare una cache nella Cache Redis Azure](https://msdn.microsoft.com/library/dn690516.aspx).

## <a name="errors-and-failures"></a>Errori e non riuscite

- **Presentare il concetto di un timeout.** Servizi e risorse possono diventare non disponibile, causando la riuscita delle richieste. Assicurarsi che i valore di timeout si applicano siano appropriate per ogni servizio o delle risorse e del client che accede alla loro. (In alcuni casi può essere opportuno consentire un timeout più lungo per una particolare istanza di un cliente, in base al contesto e altre azioni che esegue il client.) Timeout molto brevi può causare operazioni Riprova eccessiva per i servizi e le risorse con latenza notevole. Timeout molto lungo possono causare il blocco se un numero elevato di richieste vengono accodato in attesa di una risorsa per rispondere o servizio.
- **Riprovare a eseguire le operazioni non riuscite causate da problemi temporanei.** Progettare una strategia di tentativi di accesso a tutti i servizi e risorse in cui vengono non supportano la connessione automatica riprovare. Utilizzare una strategia che include un ritardo crescente tra tentativi come il numero di errori aumenta, per evitare di sovraccaricare della risorsa e per consentire la normale recuperare e gestire le richieste in coda. Continui tentativi con ritardi molto brevi sono probabilmente aggravare il problema.
- **Interrompere l'invio di richieste per evitare errori a cascata** quando servizi remoto non sono disponibili. Si possono verificare situazioni in cui temporaneo o altri errori, gravità da una perdita parziale di integrazione applicativa per errore completamento di un servizio, richiedere molto più tempo del previsto per tornare alla normale. Inoltre, se un servizio è occupato, errore in una parte del sistema può provocare errori a cascata e produrre molte operazioni bloccare tenendo in risorse di sistema critico, ad esempio memoria, thread e connessioni di database. Anziché continuamente la ripetizione di un'operazione che probabilità di successo, l'applicazione deve accettare rapidamente che l'operazione ha avuto esito negativo e gestire l'errore. È possibile utilizzare il modello interruttore per rifiutare le richieste di operazioni specifiche per periodi. Per ulteriori informazioni, vedere [Interruttore motivo](https://msdn.microsoft.com/library/dn589784.aspx).
- **Scrittura o comunica anche più componenti** per ridurre l'impatto di uno specifico servizio in linea o non è disponibile. Progettazione di applicazioni per usufruire di più istanze senza operazione che influiscono sulla e connessioni esistenti laddove possibile. Utilizzare più istanze e distribuire le richieste tra di esse e consente di individuare ed evitare l'invio di richieste a istanze non riuscite, per ottimizzare la disponibilità.
- **Passaggio tornare a un altro servizio o del flusso di lavoro** in cui è possibile. Ad esempio, se la scrittura al Database SQL non riesce, archiviare temporaneamente dati in archiviazione blob. Fornire una struttura per riprodurre le operazioni di scrittura nell'archiviazione blob al Database SQL quando il servizio diventa disponibile. In alcuni casi, un'operazione non riuscita può essere un'azione alternativa che consente l'applicazione di continuare a lavorare anche quando un componente o servizio non riesce. Se possibile, rileva errori e reindirizzare le richieste di altri servizi che offrono una funzionalità alternativa appropriata o eseguire il backup o le istanze di funzionalità ridotte in grado di mantenere le operazioni di base mentre il servizio principale è offline.

## <a name="monitoring-and-disaster-recovery"></a>Monitoraggio e ripristino di emergenza

- **Specifica strumentazione RTF per i possibili errori e gli eventi di errore** per segnalare la situazione al personale operativo. Per gli errori che possono ma non sono ancora stati si sono verificati, fornire dati sufficienti per abilitare personale determinare la causa, ridurre la situazione e assicurarsi che il sistema rimane disponibile. Per gli errori che si sono già verificati, l'applicazione deve restituire un messaggio di errore appropriato per l'utente ma tentare di continuare in esecuzione, sebbene con funzionalità ridotte. In ogni caso, il sistema di monitoraggio deve acquisire dettagli completi per abilitare personale rendere effettiva un ripristino rapido e, se necessario, per progettisti e sviluppatori di modificare il sistema di evitare la situazione da derivanti nuovamente.
- **Monitorare l'integrità del sistema mediante l'implementazione di funzioni di controllo.** L'integrità e le prestazioni di un'applicazione negativamente sulla qualità nel tempo, senza essere visibili fino a quando non si verifica un errore. Implementare le ricerche o controllare le funzioni che vengono eseguite regolarmente dall'esterno dell'applicazione. Questi controlli possono essere costituiti semplicemente la misurazione del tempo di risposta per l'applicazione nel suo insieme, singole parti dell'applicazione, singoli servizi che utilizza l'applicazione o singoli componenti. Funzioni relative al controllo possono eseguire processi per garantire che produrre risultati validi, misurare la latenza e verificare la disponibilità ed estrarre informazioni dal sistema.
- **Testare regolarmente tutti i sistemi di fallback e le failover** per assicurarsi che sono disponibili e funzionare come previsto. Le modifiche apportate ai sistemi e le operazioni possono influire failover e funzioni di fallback, ma l'impatto potrebbe non essere rilevato finché il sistema principale ha esito negativo o assume la forma di overload. Verificarla prima che venga richiesto per compensa un problema dinamica in fase di esecuzione.
- **Testare i sistemi di controllo.** Failover automatico e sistemi di fallback e visualizzazione manuale di integrità del sistema e le prestazioni utilizzando i dashboard, tutti dipendono monitoraggio e strumentazione funziona correttamente. Se questi elementi non riescono, informazioni riservate errata, o un report di dati non accurati, un operatore potrebbe non tenere presente che il sistema è danneggiato o errore.
- **Tenere traccia dello stato di avanzamento dei flussi di lavoro lunga** e riprova in caso di errore. I flussi di lavoro di esecuzione prolungata spesso sono costituiti da più passaggi. Verificare che ogni passaggio è indipendente e può essere ripetute per ridurre il rischio che sarà necessario annullare il flusso di lavoro intera o che è necessario eseguire più operazioni compensatori. Monitorare e gestire lo stato di avanzamento dei flussi di lavoro lunga mediante l'implementazione di un modello, ad esempio [Utilità di pianificazione agente Supervisore motivo](https://msdn.microsoft.com/library/dn589780.aspx).
- **Piano di emergenza.** Assicurarsi che un piano di documentazione, accettato e completamente testato per il ripristino da qualsiasi tipo di errore che potrebbero essere visualizzati parte o tutto il sistema principale è disponibile. Provare le procedure regolarmente e assicurarsi che tutto il personale di operazioni abbiano familiarità con il processo.
